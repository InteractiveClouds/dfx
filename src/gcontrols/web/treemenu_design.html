<div class="dfx-core-gc-treemenu {{attributes.classes.value}}" style="{{attributes.style.value}}">
	<script type="text/ng-template" id="treeMenu">
      	<md-menu-divider ng-if="menuItem.divider === true" style="{{attributes.itemStyle.divider.style}}" class="{{attributes.itemStyle.divider.class}}"></md-menu-divider>
      	<md-menu-item ng-if="menuItem.title === true && menuItem.divider === false" class="tree-menu-title {{attributes.itemStyle.title.class}}" style="{{attributes.itemStyle.title.style}}">
      		<div>{{menuItem.label | checkExpression}}</div>
      	</md-menu-item>
        <md-menu-item ng-if="menuItem.divider !== true && menuItem.title !== true">
    	    <md-button style="{{attributes.itemStyle.button.style}}" ng-disabled="$eval(menuItem.disabled)" ng-click="menuItem.menuItems.value.length > 0 ? menuToggle($event) : ''" class="{{attributes.itemStyle.button.class}}">
                <md-icon ng-if="menuItem.icon.value && menuItem.icon.type ==='fa-icon'" class="fa {{$eval(menuItem.icon.value) || 'fa-home'}} tree-menu-icon {{attributes.itemStyle.icon.class}}" style="{{attributes.itemStyle.icon.style}}; font-size:{{attributes.itemStyle.icon.size}}px; width:{{attributes.itemStyle.icon.size}}px;height:{{attributes.itemStyle.icon.size}}px;"></md-icon>
                <ng-md-icon ng-if="menuItem.icon.value && menuItem.icon.type ==='svg-icon'" icon="{{$eval(menuItem.icon.value) || 'home'}}" size="{{attributes.itemStyle.icon.size}}" class=" tree-menu-icon {{attributes.itemStyle.icon.class}}" style="{{attributes.itemStyle.icon.style}}"></ng-md-icon>
                <span class="tree-menu-label">{{menuItem.label | checkExpression}}</span>
                <span class="md-alt-text">{{menuItem.shortcut}}</span>
                <small ng-if="menuItem.notification" style="{{attributes.itemStyle.notification.style}}" class="{{attributes.itemStyle.notification.class}}">{{menuItem.notification}}</small>
                <md-icon ng-if="menuItem.menuItems.value.length > 0" class="fa fa-angle-right trigger-icon" style="{{attributes.itemStyle.value}}"></md-icon>
            </md-button>
            <md-menu-bar ng-if="menuItem.actions" class="treemenu-actionbar">
                <md-menu class="treemenu-actionbar-menu">
                    <md-button class="treemenu-actionbar-button {{attributes.triggerStyle.button.class}}" style="{{attributes.triggerStyle.button.style}}" ng-click="$mdOpenMenu();menuItem.actions.onclick;" aria-label="Action Trigger Button">
                        <md-icon ng-if="menuItem.actions.icon.value && menuItem.actions.icon.type ==='fa-icon'" class="fa {{$eval(menuItem.actions.icon.value) || 'fa-home'}} treemenu-actionbar-button-icon {{attributes.triggerStyle.icon.class}}" style="{{attributes.triggerStyle.icon.style}};font-size:{{attributes.triggerStyle.icon.size}}px;width:{{attributes.triggerStyle.icon.size}}px;height:{{attributes.triggerStyle.icon.size}}px;"></md-icon>
                        <ng-md-icon ng-if="menuItem.actions.icon.value && menuItem.actions.icon.type ==='svg-icon'" icon="{{$eval(menuItem.actions.icon.value) || 'home'}}" size="{{attributes.triggerStyle.icon.size}}" class="treemenu-action-button-icon {{attributes.triggerStyle.icon.class}}" style="{{attributes.triggerStyle.icon.style}}"></ng-md-icon>
                    </md-button>
                    <md-menu-content class="treemenu-actionbar-menu-content" width="2">
                        <div ng-repeat="actionItem in menuItem.actions.actionItems track by $index">
                            <md-menu-item ng-if="actionItem.type!=='title' && actionItem.type!=='divider'">
                                <md-button class="treemenu-actionbar-item-button {{attributes.actionStyle.button.class}}" style="{{attributes.actionStyle.button.style}}" aria-label="Action Item Button">
                                    <md-icon ng-if="actionItem.icon.value && actionItem.icon.type ==='fa-icon'" class="fa {{$eval(actionItem.icon.value)}} treemenu-actionbar-item-icon {{attributes.actionStyle.icon.class}}" style="{{attributes.actionStyle.icon.style}};font-size:{{attributes.actionStyle.icon.size}}px;width:{{attributes.actionStyle.icon.size}}px;height:{{attributes.actionStyle.icon.size}}px;"></md-icon>
                                    <ng-md-icon ng-if="actionItem.icon.value && actionItem.icon.type ==='svg-icon'" icon="{{$eval(actionItem.icon.value)}}" size="{{attributes.actionStyle.icon.size}}" class=" treemenu-actionbar-item-icon {{attributes.actionStyle.icon.class}}" style="{{attributes.actionStyle.icon.style}}"></ng-md-icon>
                                    <div>{{actionItem.label | checkExpression}}</div>
                                </md-button>
                            </md-menu-item>
                            <md-menu-divider ng-if="actionItem.type==='divider'" class="dfx-menu-item-divider {{attributes.actionStyle.divider.class}}" style="{{attributes.actionStyle.divider.style}}"></md-menu-divider>
                            <md-menu-item ng-if="actionItem.type==='title'" class="tree-menu-title {{attributes.actionStyle.title.class}}" style="{{attributes.actionStyle.title.style}}">
                                <div>{{actionItem.label | checkExpression}}</div>
                            </md-menu-item>
                        </div>
                    </md-menu-content>
                </md-menu>
            </md-menu-bar>
        </md-menu-item>
        <ul ng-if="menuItem.menuItems.value" style="display:none;">
            <li ng-repeat="menuItem in menuItem.menuItems.value track by $index" class="tree-menu-item" ng-include="'treeMenu'"></li>
        </ul>
	</script>
	<ul><li ng-repeat="menuItem in attributes.menuItems.value track by $index" class="tree-menu-item" ng-include="'treeMenu'"></li></ul>
</div>